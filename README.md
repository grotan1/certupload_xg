# Certificate upload to Sophos XG

This is work in progress

Automate process of uploading Let's Encrypt certificates to Sophos XG firewall generated by Certbot.

It creates an MD5 hash of existing certificate and store that in a file.
When new certificate is created it compare existing md5 to the new md5 and if it differs it uploads the news certificate.


XML:
```
<Request>
  <Login>
    <Username>user</Username>
    <Password>pass</Password>
  </Login>

  <Set operation="update">
    <Certificate>
      <Action>UploadCertificate</Action>
      <Name>name</Name>
      <Password></Password>
      <CertificateFormat>pem</CertificateFormat>
      <CertificateFile>fullchain.pem</CertificateFile>
      <PrivateKeyFile>privkey.key</PrivateKeyFile>
    </Certificate>
  </Set>
</Request>
```

